<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <title>Connector Dashboard</title>
</head>

<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap');.btn,.side-menu{background: {{ theme }}; }.side-menu,body{min-height:100vh}.btn,a,a:visited{color:#fff}.container .content .cards .card,.container .content .content-2 .admin-table,.container .content .content-2 .recent-connections{background:#fff;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);display:flex}.container .content .content-2 .admin-table table td:first-child img,.container .header .nav .user img{height:40px;width:40px}.badge,.btn{text-align:center}input,table{padding:10px}*{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif}a,a.badge:focus,a.badge:hover{text-decoration:none}li{list-style:none}h1,h2{color:#444}h3{color:#999}.btn{padding:5px 10px;border-radius:4px}.btn:hover{color:{{ theme }};background:#fff;padding:3px 8px;border:2px solid {{ theme }}}.title{display:flex;align-items:center;justify-content:space-around;padding:15px 10px;border-bottom:2px solid #999}td,th{text-align:left;padding:8px}.side-menu{position:fixed;width:20vw;display:flex;flex-direction:column}.side-menu .brand-name{height:10vh;display:flex;align-items:center;justify-content:center}.side-menu li{font-size:28px;font-family:Poppins,sans-serif;padding:10px 40px;color:#fff;display:flex;align-items:center}.side-menu li:hover{background: rgba(39, 37, 37, 0.439);color:{{ theme }}}.container{position:absolute;right:0;width:80vw;height:100vh;background:#f1f1f1}.container .header{position:fixed;top:0;right:0;width:80vw;height:10vh;background:#fff;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 8px 0 rgba(0,0,0,.2);z-index:1}.container .header .nav{width:90%;display:flex;align-items:center}.container .header .nav .search{flex:3;display:flex;justify-content:center}.container .header .nav .search input[type=text]{border:none;background:#f1f1f1;padding:10px;width:50%}.container .header .nav .search button{width:40px;height:40px;border:none;display:flex;align-items:center;justify-content:center}.container .header .nav .search button img{width:30px;height:30px}.container .header .nav .user{flex:1;display:flex;justify-content:space-between;align-items:center}.container .header .nav .user .img-case{position:relative;width:50px;height:50px}.container .header .nav .user .img-case img{position:absolute;top:0;left:0;width:100%;height:100%}.container .content{position:relative;margin-top:10vh;min-height:90vh;background:#f1f1f1}.container .content .cards{padding:20px 15px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap}.container .content .cards .card{border-radius: 6px; width:250px;height:150px;margin:20px 10px;align-items:center;justify-content:space-around}.container .content .content-2{min-height:60vh;display:flex;justify-content:space-around;align-items:flex-start;flex-wrap:wrap}.container .content .content-2 .recent-connections{min-height:55vh;flex:5;margin:0 25px 25px;flex-direction:column}#apitable{flex:2;}.container .content .content-2 .admin-table{flex-direction:column;max-width:350px;min-height:55vh;overflow: hidden;max-height:55vh;margin:0 25px;flex-direction:column}@media screen and (max-width:1050px){.side-menu li{font-size:18px}}@media screen and (max-width:940px){.side-menu li span{display:none}.side-menu{align-items:center}.side-menu li img{width:40px;height:40px}.side-menu li:hover{background: rgba(39, 37, 37, 0.439);padding:8px 38px;border:2px solid #fff}}@media screen and (max-width:536px){.brand-name h1{font-size:16px}.container .content .cards{justify-content:center}.side-menu li img{width:30px;height:30px}.container .content .content-2 .recent-connections table td:nth-child(2),.container .content .content-2 .recent-connections table th:nth-child(2){display:none}}.country,.side-menu img{max-width:20%;max-height:20%;padding-right:10px}.badge{display:inline-block;padding:.25em .4em;font-size:75%;font-weight:700;line-height:1;white-space:nowrap;vertical-align:baseline;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.badge{transition:none}}.badge:empty{display:none}.btn .badge{position:relative;top:-1px}.badge-pill{padding-right:.6em;padding-left:.6em;border-radius:10rem}.badge-primary{color:#fff;background-color:#007bff}a.badge-primary:focus,a.badge-primary:hover{color:#fff;background-color:#0062cc}a.badge-primary.focus,a.badge-primary:focus{outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.badge-secondary{color:#fff;background-color:#6c757d}a.badge-secondary:focus,a.badge-secondary:hover{color:#fff;background-color:#545b62}a.badge-secondary.focus,a.badge-secondary:focus{outline:0;box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.badge-success{color:#fff;background-color:#28a745}a.badge-success:focus,a.badge-success:hover{color:#fff;background-color:#1e7e34}a.badge-success.focus,a.badge-success:focus{outline:0;box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.badge-info{color:#fff;background-color:#17a2b8}a.badge-info:focus,a.badge-info:hover{color:#fff;background-color:#117a8b}a.badge-info.focus,a.badge-info:focus{outline:0;box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.badge-warning{color:#212529;background-color:#ffc107}a.badge-warning:focus,a.badge-warning:hover{color:#212529;background-color:#d39e00}a.badge-warning.focus,a.badge-warning:focus{outline:0;box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.badge-danger{color:#fff;background-color:#dc3545}a.badge-danger:focus,a.badge-danger:hover{color:#fff;background-color:#bd2130}a.badge-danger.focus,a.badge-danger:focus{outline:0;box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.badge-light{color:#212529;background-color:#f8f9fa}a.badge-light:focus,a.badge-light:hover{color:#212529;background-color:#dae0e5}.material-symbols-outlined{width:45px;font-variation-settings:'FILL' 0,'wght' 400,'GRAD' 0,'opsz' 48}input{border:0;border-radius:4px;box-shadow:0 0 15px 4px rgba(0,0,0,.1)}#rect {border-radius: 0px;}
.brand-name h1 span{font-size:15px;color:whitesmoke}#rainbow{color:red;animation:5s linear infinite bgColor}@keyframes bgColor{12.5%{color:red}25%{color:orange}37.5%{color:#37c723}50%{color:#0ef}62.5%{color:#139898}75%{color:#00f}87.5%{color:#9932cc}100%{color:#ff144b}}

</style>

<body>

    <div class="side-menu">
        <div class="brand-name">
            <h1>Admin<span>Panel</span></h1><br>
        </div>
        <ul>
            <li><span class="material-symbols-outlined">dashboard</span>
                <a href="/dashboard">Dashboard</a></img></li>
            <li><span class="material-symbols-outlined">group</span>
                <a href="/users">Connections</a></img></li>
            <li><span class="material-symbols-outlined">build</span>
                <a href="/builder">Builder</a></li>
            <li><span class="material-symbols-outlined">api</span>
                <a href="/api">API</a></img></li>
            <li><span class="material-symbols-outlined">help</span>
                <a href="https://github.com/codeuk">Help</a></li>
            <li><span class="material-symbols-outlined">settings</span>
                <a href="/settings">Settings</a></li>
        </ul>
    </div>

    <div class="container">

        <div class="header">
            <div class="nav">
                <div class="user">
                    <a href="/api" class="btn">API</a>
                    <center>
                        <form action="{{ url_for('user_lookup') }}" method="post">
                            <div class="search">
                                <input type="text" name="uid" placeholder="Lookup User ID">
                                <input type="submit" value="Search" class="btn">
                            </div>
                        </form>
                    </center>
                    <div class="img-case">
                        <img src="https://static.wixstatic.com/media/9b7898_d03aea77677444ccbf3b72500d7c14d1~mv2.png/v1/fill/w_291,h_291,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/Profile-Male-PNG.png" alt="">
                    </div>
                </div>
            </div>
        </div>

        <div class="content">
            <div class="cards">
                <div class="card">
                    <div class="box">
                        <h1>Admins</h1>
                        <h3>{{ admins }}</h3>
                    </div>
                </div>
                <div class="card">
                    <div class="box">
                        <h1>Connections</h1>
                        <h3>{{ amount }}</h3>
                    </div>
                </div>
                <div class="card">
                    <div class="box">
                        <h1>Builder</h1>
                        <h3>Unfinished</h3>
                    </div>
                </div>
                <div class="card">
                    <div class="box">
                        <h1>Version</h1>
                        <h3>{{ version }}</h3>
                    </div>
                </div>
            </div>

            <div class="content-2">
                <div class="recent-connections">
                    <div class="title">
                        <h2>Recent Connections</h2>
                    </div>
                    <a id="rect" href="/users" class="btn">View All</a>

                    <table>
                        <tr>
							<th>ID</th>
                            <th>Username</th>
							<th>Country</th>
                            <th>IP Address</th>
                            <th>Badge</th>
                            <th>Option</th>
                        </tr>
                            {% for i, user in users: %}
                                {% if list[i].admin == False and i < 9 %}
                                <tr>
                                    <td><b>{{ list[i].id }}</b></td>
                                    <td>{{ list[i].username }}</td>
                                    <td><img src="{{ list[i].countryflag }}" style="width: 45px; height: 25px;"></img></td>
                                    <td>{{ list[i].ip }}</td>
                                    <td>
                                    {% if list[i].bot == True %}
                                        <span class="badge badge-danger">Bot</span>
                                    {% else %}
                                        <span class="badge badge-primary">User</span>
                                    {% endif %}
                                    </td>
                                    <td><a href="/users/{{ list[i].id }}" class="btn">Manage</a></td>
                                </tr>
                                {% endif %}
                            {% endfor %}
                    </table>
                </div>

                <div class="admin-table">
                    <div class="title"><h2>Admins ({{ admins }}/6)</h2></div>
                    <table>
                        <tr>
                            <th>Profile</th>
                            <th>Name</th>
                            <th>Options</th>
                        </tr>
                        {% for i in range(admins): %}
                            {% if i < 6 %}
                            <tr>
                                <td><img src="https://cdn-icons-png.flaticon.com/512/3237/3237472.png" alt=""></td>
                                <td>{{ adminlist[i].username }}</td>
                                <td><a href="/users/{{ adminlist[i].id }}" class="btn">Manage<a></td>
                            </tr>
                            {% endif %}
                        {% endfor %}
                    </table>
                </div>

                <div class="admin-table" id="apitable">
                    <div class="title">
                        <h2>API Tools</h2>
                    </div>
                    <center>
                    <br>
                    <form action="{{ url_for('createauth') }}" method="POST">
                        <h4>New Auth Code</h4>
                        <input type="text" name="authcode" placeholder="Auth Code"><br>
                        <input type="submit" value="Create" style="width: 190px;" class="btn">
                    </form>
                    <br> 

                    <form action="{{ url_for('addadmin') }}" method="post">
                        <h4>Add New Admin</h4>
                        <input type="text" name="admin_username" placeholder="Username">
                        <input type="password" name="admin_password" placeholder="Password">
                        <input type="text" name="auth" placeholder="Auth Code"><br>
                        <input type="submit" value="Create" style="width: 190px;" class="btn">
                    </form>

					<br>
                    {% if testmode == True %}
                        <h4>Generate Account</h4><br>
                        <a href="{{ url_for('rndadmin') }}" class="btn">Admin</a>
                        <a href="{{ url_for('rnduser') }}" class="btn">User</a>
                        <br>
                        <br>
                        <h4>Auth Codes ({{ auth_amt }}/10)</h4>
                        {% for auth in auths: %}
                            <p>{{ auth }}</p>
                        {% endfor %}
                    {% endif %}
                    <br>
                    </center>
                </div>

            </div>
        </div>
    </div>
</body>

</html>