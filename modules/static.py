#!/usr/bin/env python3
# -*- coding: utf-8 -*-

"""
    File:   modules/static.py
    Author: codeuk
    Date:   18/07/2022
    Python: 3.10
"""

import time
import random
import string

from requests import get
from os import system, name

class Static:
    """ Tools able to be used statically and don't interact with the database """

    @staticmethod
    def IP2Info(ip: str) -> list:
        """ Get IP Information JSON """
        url = f'http://ipwho.is/{ip}'
        info = get(url)
        return info.json()

    @staticmethod
    def Clear() -> None:
        system('cls' if name == 'nt' else 'clear') 

        print(f"""
            ┌─┐┌─┐┬─┐┬  ┬┌─┐┬─┐  ┌─┐┌┬┐┌─┐┬─┐┌┬┐┌─┐┌┬┐          
    ──────  └─┐├┤ ├┬┘└┐┌┘├┤ ├┬┘  └─┐ │ ├─┤├┬┘ │ ├┤  ││  ──────  
            └─┘└─┘┴└─ └┘ └─┘┴└─  └─┘ ┴ ┴ ┴┴└─ ┴ └─┘─┴┘     
                          @ {Static.IP2Info('').get('ip')}
        """)

    @staticmethod
    def RandomUserInfo() -> list:
        """ Generate information for bot accounts """
        username = ''.join(random.choices(string.ascii_lowercase, k=6))
        password = ''.join(random.choices(string.ascii_uppercase, k=8))
        return username, password

    @staticmethod
    def GetTime() -> str:
        """ Get and format local time """
        time_unfiltered = time.gmtime(time.time())
        formatted_time = time.strftime("%Y-%m-%d %H:%M:%S", time_unfiltered)
        return formatted_time
    
    @staticmethod
    def FormatData(strlist: str) -> list:
        """ Format post data (stringlist) to array """
        temp_list = []
        seperator = "%"
        for value in strlist.split(seperator):
            if value == "": continue
            temp_list.append(value)
        return temp_list